---
title: Sensitivity Analysis
module: backtesting
order: 5
colabUrl: ""
prerequisites:
  - backtesting/04-walk-forward
---

# Sensitivity Analysis

A robust strategy should work across a range of parameters, not just one magical combination. Sensitivity analysis tests this robustness.

<ConceptCard title="Parameter Sensitivity" type="definition">
**Sensitivity analysis** examines how strategy performance changes as parameters vary. If small parameter changes cause huge performance swings, the strategy is fragile and likely overfit.
</ConceptCard>

## The Robustness Test

<ConceptCard title="The Neighborhood Test" type="example">
If your optimal parameters are (MA=20, Threshold=0.02), check nearby values:
- MA = 18, 19, 21, 22
- Threshold = 0.015, 0.018, 0.022, 0.025

**Good**: Similar performance across neighbors
**Bad**: Only the exact parameters work
</ConceptCard>

<InteractiveExample title="Parameter Sensitivity Heatmap" description="How Sharpe ratio changes with different parameter combinations">
  <SensitivityHeatmap
    data={{
      param1Values: [10, 15, 20, 25, 30],
      param1Label: "Moving Average Period",
      param2Values: [0.01, 0.02, 0.03],
      param2Label: "Signal Threshold",
      results: [
        [0.8, 1.0, 0.9],
        [1.1, 1.3, 1.2],
        [1.2, 1.5, 1.4],
        [1.1, 1.3, 1.1],
        [0.9, 1.1, 0.8]
      ],
      metricLabel: "Sharpe Ratio"
    }}
    title="Robust Strategy: Smooth Performance Surface"
    highlightOptimal={true}
  />
</InteractiveExample>

## Overfitting Detection

<ConceptCard title="Red Flags" type="warning">
**Signs of overfitting:**
- Sharp peak in performance at one parameter combination
- Performance cliff: small changes cause huge drops
- Optimal parameters are at extreme values
- In-sample performance >> out-of-sample performance
</ConceptCard>

<InteractiveExample title="Overfit Strategy Heatmap" description="Spiky surface indicates fitting to noise">
  <SensitivityHeatmap
    data={{
      param1Values: [10, 15, 20, 25],
      param1Label: "Moving Average Period",
      param2Values: [0.01, 0.02, 0.03],
      param2Label: "Signal Threshold",
      results: [
        [0.3, 0.5, 0.2],
        [0.4, 2.5, 0.3],
        [0.2, 0.4, 0.3],
        [0.5, 0.3, 0.4]
      ],
      metricLabel: "Sharpe Ratio"
    }}
    title="Overfit Strategy: Sharp Peak at One Point"
    highlightOptimal={true}
    showOverfitZone={true}
    overfitThreshold={1.5}
  />
</InteractiveExample>

## Practical Guidelines

<ConceptCard title="How Many Parameters?" type="tip">
**Rule of thumb**: Keep parameters minimal
- 1-2 parameters: Usually safe
- 3-4 parameters: Be careful, test thoroughly
- 5+ parameters: Almost certainly overfit

Each parameter roughly doubles the opportunity to fit noise.
</ConceptCard>

<KeyTakeaway>
Run sensitivity analysis on all your strategies. Look for **smooth performance surfaces** where nearby parameters give similar results. Avoid strategies with sharp peaks - they're fitting noise, not signal.
</KeyTakeaway>
