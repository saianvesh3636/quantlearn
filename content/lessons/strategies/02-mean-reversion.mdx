---
title: Mean Reversion
module: strategies
order: 2
colabUrl: "https://colab.research.google.com/github/saianvesh3636/quantlearn/blob/main/notebooks/strategies/02-mean-reversion.ipynb"
prerequisites:
  - strategies/01-trend-following
---

# Mean Reversion

Mean reversion is the opposite of trend following. The core idea: prices that deviate from their average tend to return to it.

<WhyItMatters tldr="Mean reversion has higher win rates than trend following, but its failures are catastrophic. Understanding when it works and when it kills you is the difference between steady profits and total wipeout.">
Mean reversion is seductive because it feels right - buy low, sell high. Win rates of 60-80% feel good. But this strategy has destroyed more hedge funds than any other. The 2007 Quant Crisis, LTCM, and countless prop desks blew up running mean reversion. The problem: when the "mean" shifts, your small consistent wins become one massive loss that wipes out years of gains.
</WhyItMatters>

<ConceptCard title="Mean Reversion Philosophy" type="definition">
**"What goes up must come down."** Mean reversion traders bet that extreme moves will reverse. They buy dips and sell rallies, profiting from prices returning to "normal" levels.
</ConceptCard>

## Z-Score Trading

<FormulaDisplay
  formula="Z = \frac{Price - MA}{\sigma}"
  explanation="Z-score measures how many standard deviations price is from its mean."
  variables={[
    { symbol: "Z", meaning: "Z-score (standardized deviation)" },
    { symbol: "Price", meaning: "Current price" },
    { symbol: "MA", meaning: "Moving average (mean)" },
    { symbol: "\\sigma", meaning: "Standard deviation" }
  ]}
/>

<ConceptCard title="Z-Score Signals" type="example">
- **Z > 2**: Price is 2 std devs above mean → Sell (overbought)
- **Z < -2**: Price is 2 std devs below mean → Buy (oversold)
- **Z → 0**: Price returning to mean → Exit position
</ConceptCard>

<InteractiveExample title="Mean Reversion Signals" description="Buy oversold, sell overbought conditions">
  <CandlestickChart
    data={[
      { date: "Mon", open: 100, high: 101, low: 99, close: 100.5 },
      { date: "Tue", open: 100.5, high: 102, low: 100, close: 101.5 },
      { date: "Wed", open: 101.5, high: 105, low: 101, close: 104.5 },
      { date: "Thu", open: 104.5, high: 106, low: 104, close: 105.5 },
      { date: "Fri", open: 105.5, high: 106, low: 102, close: 102.5 },
      { date: "Mon2", open: 102.5, high: 103, low: 100, close: 100.5 },
      { date: "Tue2", open: 100.5, high: 101, low: 97, close: 97.5 },
      { date: "Wed2", open: 97.5, high: 100, low: 97, close: 99.5 }
    ]}
    signals={[
      { date: "Thu", type: "sell", price: 105.5, label: "Z > 2 (Overbought)" },
      { date: "Tue2", type: "buy", price: 97.5, label: "Z < -2 (Oversold)" }
    ]}
    title="Mean Reversion Entry Points"
  />
</InteractiveExample>

## Pairs Trading

<ConceptCard title="Statistical Arbitrage" type="definition">
**Pairs trading** finds two correlated assets and trades their spread. When the spread widens beyond normal, bet on convergence. This is market-neutral (no exposure to overall market direction).
</ConceptCard>

<InteractiveExample title="Pairs Trading Spread" description="Watch days 18-24: the spread breaks through and KEEPS GOING - this is when mean reversion fails catastrophically">
  <LineChart
    data={[
      { x: 1, y: 0.2, y2: 2, y3: -2 },
      { x: 2, y: 0.8, y2: 2, y3: -2 },
      { x: 3, y: 1.4, y2: 2, y3: -2 },
      { x: 4, y: 2.1, y2: 2, y3: -2 },
      { x: 5, y: 1.6, y2: 2, y3: -2 },
      { x: 6, y: 0.9, y2: 2, y3: -2 },
      { x: 7, y: 0.3, y2: 2, y3: -2 },
      { x: 8, y: -0.4, y2: 2, y3: -2 },
      { x: 9, y: -1.2, y2: 2, y3: -2 },
      { x: 10, y: -1.8, y2: 2, y3: -2 },
      { x: 11, y: -1.3, y2: 2, y3: -2 },
      { x: 12, y: -0.5, y2: 2, y3: -2 },
      { x: 13, y: 0.1, y2: 2, y3: -2 },
      { x: 14, y: 0.6, y2: 2, y3: -2 },
      { x: 15, y: 1.1, y2: 2, y3: -2 },
      { x: 16, y: 0.7, y2: 2, y3: -2 },
      { x: 17, y: 0.2, y2: 2, y3: -2 },
      { x: 18, y: -0.8, y2: 2, y3: -2 },
      { x: 19, y: -1.9, y2: 2, y3: -2 },
      { x: 20, y: -2.4, y2: 2, y3: -2 },
      { x: 21, y: -3.1, y2: 2, y3: -2 },
      { x: 22, y: -3.8, y2: 2, y3: -2 },
      { x: 23, y: -4.2, y2: 2, y3: -2 },
      { x: 24, y: -4.9, y2: 2, y3: -2 }
    ]}
    xLabel="Day"
    yLabel="Spread (Z-Score)"
    title="Pairs Spread: Normal Reversion Then Catastrophic Failure"
    subtitle="Days 1-17: spread reverts as expected. Days 18-24: regime change - spread keeps widening!"
    series={[
      { key: "y", name: "Spread", color: "#3b82f6" },
      { key: "y2", name: "Entry Band (+2σ)", color: "#ef4444" },
      { key: "y3", name: "Entry Band (-2σ)", color: "#10b981" }
    ]}
  />
</InteractiveExample>

## Risks of Mean Reversion

<ConceptCard title="The Danger" type="warning">
Mean reversion fails when:
- **Regime change**: The "mean" shifts permanently
- **Trending markets**: What looks oversold keeps falling
- **Leverage**: Small adverse moves can wipe out capital

Famous blow-ups (LTCM, 2008 quant crisis) often involved mean reversion strategies that faced unprecedented moves.
</ConceptCard>

<RealWorldExample
  title="The August 2007 Quant Crisis"
  date="August 6-9, 2007"
  impact="Multi-billion dollar losses across quant funds"
  sources={[
    { name: "Journal of Investment Management - Khandani & Lo" },
    { name: "Journal of Portfolio Management" }
  ]}
  lesson="When everyone runs the same mean reversion strategy, the exit door is too small. Crowded trades unwind violently."
>
In August 2007, quantitative hedge funds experienced unprecedented losses in just four days:

- **Goldman Sachs Global Alpha**: Lost $1.6 billion in one week
- **Renaissance Technologies**: Lost ~$1 billion before recovering
- **AQR, DE Shaw, and others**: Multi-hundred million dollar losses

**What happened:** Most quant funds were running similar mean reversion / statistical arbitrage strategies. When one large fund needed to liquidate (reportedly a multi-strategy fund facing losses elsewhere), it sold positions that other quants also held. This triggered their risk limits, forcing more selling.

**The death spiral:** Everyone was short the same "expensive" stocks and long the same "cheap" stocks. When forced selling began, the expensive stocks they were short went UP, and the cheap stocks they were long went DOWN - the exact opposite of mean reversion.

**Recovery:** By August 10th, stocks had reverted and most funds recovered their losses. But the lesson was clear: mean reversion + crowded positioning = systemic risk.
</RealWorldExample>

<RealWorldExample
  title="Pairs Trading Gone Wrong: Volkswagen-Porsche 2008"
  date="October 2008"
  impact="VW became world's most valuable company briefly; billions in short squeeze losses"
  sources={[
    { name: "Financial Times Archive" },
    { name: "Reuters - VW Short Squeeze" }
  ]}
  lesson="Mean reversion assumes the relationship will hold. When fundamentals change, the spread can go to infinity."
>
In October 2008, hedge funds ran a classic pairs trade: short Volkswagen, long Porsche (they were related companies with a predictable spread).

**The setup looked perfect:**
- Historical correlation: Very high
- VW seemed overpriced relative to Porsche
- Spread had widened beyond normal levels

**Then Porsche revealed it controlled 74% of VW:**
- Only 6% of VW shares were actually floating for trading
- Hedge funds were short 12% of VW - more than existed
- VW stock exploded from €200 to €1,000 in two days
- Volkswagen briefly became the world's most valuable company

**The losses:** Estimated $30+ billion in short squeeze losses across hedge funds. The "mean" they were betting on didn't exist anymore - the fundamental relationship had permanently changed.
</RealWorldExample>

<KeyTakeaway>
Mean reversion profits from prices returning to average. It has **high win rates** but **occasional large losses** when means shift. Use z-scores to identify extremes, pairs trading for market neutrality, and always have stop losses for when "cheap" gets cheaper.
</KeyTakeaway>

<FindYourEdge
  concept="Statistical Arbitrage"
  strategies={[
    {
      name: "Short-Term Mean Reversion (RSI)",
      description: "Over 1-5 day horizons, stocks that move sharply tend to reverse. Use RSI or similar indicators to identify extreme short-term moves.",
      implementation: "Calculate 2-day RSI for liquid stocks. Buy when RSI(2) < 10 (extreme oversold). Sell when RSI(2) > 90 (extreme overbought). Hold for 1-5 days or until RSI normalizes.",
      parameters: "RSI period: 2 days. Entry: RSI < 10 (long) or > 90 (short). Exit: RSI crosses 50 or 5-day holding limit.",
      evidence: "Larry Connors documented 2-period RSI mean reversion in 'Short-Term Trading Strategies That Work'. Works best in uptrending markets (buy dips).",
      risks: "Fails in trending markets - oversold can get more oversold. Requires strict stop-losses. Transaction costs eat into small-edge trades. Works best as supplement to trend filter (only buy dips in uptrends)."
    },
    {
      name: "Pairs Trading with Cointegration",
      description: "Find two stocks that move together (cointegrated) and trade their spread when it deviates from normal.",
      implementation: "Screen for cointegrated pairs using Augmented Dickey-Fuller test. Calculate z-score of spread. Enter when z > 2 or z < -2. Exit when spread returns to mean (z near 0).",
      parameters: "Cointegration p-value < 0.05. Entry: |z| > 2. Exit: |z| < 0.5 or |z| > 4 (stop loss). Mean reversion speed κ > 252/30.",
      evidence: "Gatev, Goetzmann, Rouwenhorst (2006) documented 11% annualized excess returns 1962-2002. Avellaneda & Lee (2010) formalized the statistical framework.",
      risks: "Cointegration breaks down - pairs that work in-sample often fail out-of-sample. Strategy returns have declined significantly since original study. Crowded trade - many quants run similar strategies. 2007 Quant Crisis showed systematic risk."
    }
  ]}
/>

<ThinkAboutIt questions={[
  {
    question: "Mean reversion has higher win rates than trend following. Why would anyone choose trend following?",
    hint: "Win rate isn't everything - expected value is. Mean reversion wins often but loses big when it fails. Trend following loses often but wins big when it works. They have opposite risk profiles. Most importantly, trend following provides 'crisis alpha' during crashes, while mean reversion gets crushed."
  },
  {
    question: "How would you know if a 'cheap' stock is mean-reverting to fair value, or if fair value has permanently changed?",
    hint: "This is the core problem. Fundamentals analysis helps (is the business changing?), but you can never be certain. That's why stop losses are essential - they limit losses when you're wrong about the mean."
  },
  {
    question: "In the 2007 Quant Crisis, funds recovered within days. Does that mean mean reversion worked?",
    hint: "Yes and no. The strategy eventually worked, but many funds had been forced to liquidate at the worst prices due to risk limits or margin calls. Being 'right eventually' doesn't help if you're bankrupt in the meantime. Survival is the first rule."
  },
  {
    question: "If you're running a pairs trade and the spread keeps widening, should you add to the position (it's 'cheaper') or cut it (something's wrong)?",
    hint: "This is the key decision. Adding to losers ('averaging down') can work if the relationship is intact, but it's catastrophic if the relationship broke. Most professional pairs traders have strict limits on position size and will cut losses rather than average down."
  }
]} />
